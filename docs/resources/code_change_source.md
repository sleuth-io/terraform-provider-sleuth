---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sleuth_code_change_source Resource - terraform-provider-sleuth"
subcategory: ""
description: |-
  Sleuth code change source.
---

# sleuth_code_change_source (Resource)

Sleuth code change source.

## Example Usage

```terraform
resource "sleuth_code_change_source" "sleuth-terraform-provider" {
  project_slug = "example_tf_app"
  name         = "terraform-provider-sleuth"
  repository = {
    name     = "terraform-provider-sleuth"
    owner    = "sleuth-io"
    provider = "GITHUB"
    url      = "https://github.com/sleuth-io/terraform-provider-sleuth"
  }
  environment_mappings = [
    {
      environment_slug = "prod"
      branch           = "main"
    },
    {
      environment_slug = "stage"
      branch           = "dev"
    }
  ]
  deploy_tracking_type = "manual"
  collect_impact       = true
  path_prefix = jsonencode({
    excludes = [""]
    includes = [""]
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `deploy_tracking_type` (String) How to track deploys. Valid choices are build, manual, auto_pr, auto_tag, auto_push
- `name` (String) Code change source name
- `project_slug` (String) The slug of the project that this code change source belongs to.
- `repository` (Attributes) Repository details (see [below for nested schema](#nestedatt--repository))

### Optional

- `auto_tracking_delay` (Number) The delay to add to a deployment event
- `build_mappings` (Attributes List) Build mappings of the code change source. They must be ordered by environment_slug ascending to avoid Terraform plan changes. (see [below for nested schema](#nestedatt--build_mappings))
- `collect_impact` (Boolean) Whether to collect impact for its deploys
- `environment_mappings` (Attributes List) Environment mappings of the code change source. They must be ordered by environment_slug ascending to avoid Terraform plan changes. (see [below for nested schema](#nestedatt--environment_mappings))
- `include_in_dashboard` (Boolean) Whether to include deploys from this change source in the metrics dashboard
- `notify_in_slack` (Boolean) Whether to send Slack notifications for deploys or not
- `path_prefix` (String) What code source path to limit this deployment to. Useful for monorepos. Must be used with the [jsonencode()](https://developer.hashicorp.com/terraform/language/functions/jsonencode) function to specify the paths to include and/or exclude respectively. (see example above)

### Read-Only

- `id` (String) The ID of this resource.
- `slug` (String)

<a id="nestedatt--repository"></a>
### Nested Schema for `repository`

Required:

- `name` (String) The repository name
- `owner` (String) The repository owner, usually the organization or user name
- `provider` (String) The repository provider, options: AZURE, BITBUCKET, CUSTOM_GIT, GITHUB, GITHUB_ENTERPRISE, GITLAB
- `url` (String) The repository URL, used for links

Optional:

- `integration_slug` (String) IntegrationAuthentication slug used
- `project_uid` (String) Project UID, required only for AZURE provider. You can obtain data from [API](https://learn.microsoft.com/en-us/rest/api/azure/devops/git/repositories/list?view=azure-devops-rest-6.0&tabs=HTTP)
- `repo_uid` (String) Repository UID, required only for AZURE provider. You can obtain data from [API](https://learn.microsoft.com/en-us/rest/api/azure/devops/git/repositories/list?view=azure-devops-rest-6.0&tabs=HTTP)

Read-Only:

- `webhook` (Attributes) Webhook configuration for registering deploys from code integrations in read-only mode (see [below for nested schema](#nestedatt--repository--webhook))

<a id="nestedatt--repository--webhook"></a>
### Nested Schema for `repository.webhook`

Read-Only:

- `secret` (String, Sensitive) Webhook secret to present in payloads sent to the webhook URL
- `url` (String) Webhook URL



<a id="nestedatt--build_mappings"></a>
### Nested Schema for `build_mappings`

Required:

- `build_name` (String) The remote build or pipeline name
- `environment_slug` (String) The environment slug
- `provider` (String) The build provider. Options: AZURE, BITBUCKET_PIPELINES, BUILDKITE, CIRCLECI, GITHUB, GITLAB, JENKINS

Optional:

- `integration_slug` (String) IntegrationAuthentication slug used
- `is_custom` (Boolean) Whether this is a custom build name mapping or not. This needs to be set to true if a build or job or build name isn't visible in Sleuth. Defaults to false
- `job_name` (String) The job or stage within the build or pipeline, if supported
- `match_branch_to_environment` (Boolean) Whether only builds performed on the branch mapped from the environment are tracked or not. Basically if you only want Sleuth to find builds that were triggeredby a change on the branch that is configured for the environment, set this to false. Defaults to true
- `project_key` (String) The build project key


<a id="nestedatt--environment_mappings"></a>
### Nested Schema for `environment_mappings`

Required:

- `branch` (String) The repository branch name for the environment
- `environment_slug` (String) The environment slug for mapping

Read-Only:

- `id` (String) Computed ID
